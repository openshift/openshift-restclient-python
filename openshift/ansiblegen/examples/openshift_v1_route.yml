# v1_route.yml
---

version_limits:
  min: '3.6'

tasks:
- create:
    name: myroute
    namespace: k8s-project
    spec_host: www.example.com
    spec_to_kind: Service
    spec_to_name: service-name
    spec_tls_termination: edge
    spec_tls_key: |-
      -----BEGIN PRIVATE KEY-----
      key_file_contents
      -----END PRIVATE KEY-----
    spec_tls_certificate: |-
      -----BEGIN CERTIFICATE-----
      certificate contents
      -----END CERTIFICATE-----
    spec_tls_ca_certificate: |-
      -----BEGIN CERTIFICATE-----
      ca_certificate_contents
      -----END CERTIFICATE-----
  name: Create route

- patch:
    name: myroute
    namespace: k8s-project
    spec_host: www.example.com
    spec_tls_termination: reencrypt
    spec_to_kind: Service
    spec_to_name: other-service-name
  name: Patch route

- replace:
    name: myroute
    namespace: k8s-project
    spec_host: www.example.com
    spec_path: /foo/bar/baz.html
    spec_to_kind: Service
    spec_to_name: whimsy-name
    spec_tls_termination: edge
  name: Replace route

- remove:
    name: myroute
    namespace: k8s-project
  name: Remove route
